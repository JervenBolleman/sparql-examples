@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-500b9ab1b7f810327951e3e176e4efab> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """SELECT ?director ?director_label ?films ?sitelinks ((?films * ?sitelinks) as ?rank)
WHERE {
  {SELECT ?director (count(DISTINCT ?film) as ?films) (count(DISTINCT ?sitelink) as ?sitelinks)
     WHERE {
       ?director wdt:P106 wd:Q2526255 .         # has \"film director\" as occupation
     ?film wdt:P57 ?director .            # get all films directed by the director
       ?sitelink schema:about ?director .       # get all the sitelinks about the director
       } GROUP BY ?director }
SERVICE wikibase:label {
  bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\". # Get label if it exists
?director rdfs:label ?director_label }
} ORDER BY DESC(?rank)
LIMIT 100""";
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-wikidata_prefixes,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-51B92069EFC65370D70DC3F2C9A4F47D, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-A19DE1030D6E737E0B390BC1BB43AC0E,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-0BCA076A95623CB5FE8C7650036EBC20, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-A31F5D61F0F3D0B4E62768C61F6F7DBC,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-9958B5C4FEEA888634CC0DC6FCB57511, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-6C60B33EDE77E192D9474E0315AACDA4,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-8565C9472D044039A4587D6EF0371972, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-93540CB5E708856354215537D579659C,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-1E5E5C5698A9AFEC0374211EC7F53CE9, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-59B093AC2070ECD9DE6A28DB1733456F,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-B69A14E35A09E651AF6434AAE6E60BBD, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-A3FBE1E63F9D66D8027EC772EAC5C429,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-41383CE5190DE87160F8D2285F7407DF, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-E7FEDF141F2C7C63D92B139781C91880,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-152EEA87D54E60DCA0CBFD844192CF4F, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-C18B74F1EA3454D0FD953707309B2083,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-F6F696881C32FD16F40A736F861716DD, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-5437E36E466532EEEE7823BA57A47877,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-BD85F73F5D472908420C8983B5212BDB, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-E6B43C06C1307CD6F2B229BBABFE7493,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-4E9BD3AF719F66A87EBC179903482A55, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-97D478928504265477419D3412A64337,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-E268DA70B2F4747F17DB4E1B5BA0E39B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-4DF7664FE075C60142F90F74F8C64574,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-613F277D1DC34A0D073618F66EFCBFDA, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-87F4FFFFD4D736FFE4CBD8C0AAFD481D,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-C0932E5C9BEE883CDA3F29DBA4899E7B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-1DF145442208C4B5D77C5844310CF2D8,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-8CEE93FCE5A31D37B06FD5A25CF0156F, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-02510393A51DCA066667614B0F8A2D23,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-16BEE5BD3F76EAC8C7BA09DED676C78A, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116198-3D06AE382084C2E253E355D131010876;
  schema:target <https://query.wikidata.org/sparql/> .
