@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-03eb380863663ab0e68de6efe0b42996> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """#cases where a drug physically interacts with the product of gene known to be genetically associated a disease
#these cases may show opportunities to repurpose a drug for a new disease
#See http://database.oxfordjournals.org/content/2016/baw083.long and
#http://drug-repurposing.nationwidechildrens.org/search
#an example that was recently validated involved a new link between Metformin wd:Q19484 and cancer survival
#https://jamia.oxfordjournals.org/content/22/1/179
#currently set up to find drugs for cancers that target genes related to cell proliferation
#adapt by changing constraints (e.g. to 'heart disease' Q190805) or removing them
SELECT ?drugLabel ?geneLabel ?biological_processLabel ?diseaseLabel
WHERE {
  ?drug wdt:P129 ?gene_product . # drug interacts with a gene_product
  ?gene wdt:P688 ?gene_product . # gene_product (usually a protein) is a product of a gene (a region of DNA)
  ?disease wdt:P2293 ?gene .     # genetic association between disease and gene
  ?disease wdt:P279* wd:Q12078 . # limit to cancers wd:Q12078 (the * operator runs up a transitive relation..)
  ?gene_product wdt:P682 ?biological_process . #add information about the GO biological processes that the gene is related to

   ?biological_process (wdt:P361|wdt:P279)* wd:Q189101 . # chain down subclass/part-of
   #Change the last statement (wd:Q14818032) to limit to genes related to certain biological processes (and their sub-processes):
      #cell proliferation wd:Q14818032 (Current example)
                #apoptosis wd:Q14599311

    #uncomment the next line to find a subset of the known true positives (there are not a lot of them in here yet; will lead to 4 drugs if biological process is cell proliferation 2018-12-17)
  #?disease wdt:P2176 ?drug . # disease is treated by a drug
    SERVICE wikibase:label {
        bd:serviceParam wikibase:language \"en\" .
  }
}
LIMIT 1000""";
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-wikidata_prefixes,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-2675EC56755C8976A51603EC34408E1A, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-7B1B148C6C87564E5120E55188763A79,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-E9EC25AEA35CB45CD7E4C85BD7612B83, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-5162CEA9697BDF636134269832DE8017,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-EDB2512793069448D974A09EF1776B0C, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-465D8F99AA4D73FA8F274BC4F3BD23A9,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-C2467979EB6BE0D668F2A5C1EE62E54C, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-B579098B9B21ECBD887B63CF986C9B0D,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-477624F273EB00EA9C05C89ABBDDB607, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-08C331CA0E55F357312EF1BAA73D4D54,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-191560F5170A8C6EAD7874BC15EE482B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-FAA32F9862CCF65A48AA591CF42D9ADD,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-B57C0930068AD9FF6B30B5D6BCC716BD, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-30C5F17CB46033B6B2EAD2B60E9E958D,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-75AFD752A68B438A82A66B935C98314B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-888664B40651FE0CB7759F790D9E29C9,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-40DDF9E1F8724D8B7D53497D0B21B16A, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-74819F4951A61094E07B897D0ED4A728,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-8F20337121B7256DB1D799E42966A084, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-1A5ED8AC16A7CC118E257342E1202B7A,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-137C2363FBD23C35006A8ED9A2E16657, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-CA8D2AA3D677A34248BA20AD896FA70C,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-DAC3AF804AB3D5AD9E067AC6513DDF31, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-4445596A04DC457A86D060440EB64FE1,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-98A0C9A22C332943437458B57ECA1B1F, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-467C8A37D28EFAE567ECEBE829871D9F,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-B9ED3C8380F08450F0A73A9488FF1363, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-4DAD0A10D5BD1A890B20B2C3638AACBB,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-207AF99A719CE2C9DA592EEEA492F389, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-D40E9ACC2295F7236FDE418B50F8954D,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-772A3593E3387FD892D1E0F072C3B9AA, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115889-951B0B4DC088ADB13E205C5CC14114D6;
  schema:target <https://query.wikidata.org/sparql/> .
