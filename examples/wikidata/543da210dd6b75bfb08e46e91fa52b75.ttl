@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-543da210dd6b75bfb08e46e91fa52b75> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """# <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">German picture dictionary for young children</span>
# <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">NB: when 2 or more pictures occur for the same lemma a preferred rank is missing on the Q-item.</span>
# <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Please fix that if you know how.</span>
# <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">If any inapproriate terms show up it is probably because the sense is missing a correct P5137</span>
# <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">by So9q</span>
#defaultView:ImageGrid
SELECT DISTINCT ?lexemeId ?lemma ?q_concept ?q_conceptDescription ?picture
WHERE {
  ?lexemeId dct:language wd:Q188; # change language here
            wikibase:lemma ?lemma;
            ontolex:sense ?sense.
  ?sense wdt:P5137 ?q_concept.
  ?q_concept wdt:P18 ?picture.
  ############
  # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Exclusions</span>
  ############
  # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Exclude out of scope concepts</span>
  MINUS {?q_concept wdt:P31 wd:Q3624078.}. # countries

  # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Exclude non suitable concepts</span>
  VALUES ?minus {
  wd:Q47092 # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">rape</span>
  wd:Q198   # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">war</span>
  wd:Q124490 # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">violence</span>
  wd:Q170382 # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">revolver</span>
  wd:Q1576   # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">cigar</span>
  #... <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">add yours here</span>
  }.
  MINUS {?sense wdt:P5137 ?minus.}.

  # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Exclude senses not suitable for young children:</span>
  VALUES ?filter {
  wd:Q8102
  wd:Q545779
  wd:Q1521634
  wd:Q184439}.
  FILTER NOT EXISTS {?sense wdt:P6191 ?filter.}.
  # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">if you wish to only browse certain items you can insert a FILTER</span>
  # <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">regular expression here, like in the example above.</span>
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"de,en,mul\". }
}
ORDER BY lcase(?lemma) # order a-z""";
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-wikidata_prefixes,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-6AB95CFDFAC98E361C9C76F8E5869D66, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-18E9CB6754A0F443775EA966ADD0ECEE,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-BC7E41EFE5E83D50468B0FD9A0A3FCE4, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-C530D6599A8A6F6E734FE0107F9EEF6C,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-9393465E43124F33139833D2CB281424, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-88BE12B5603FC931552D03EDEFF2D667,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-1F5D9CA5538E82EFBDD0434536DECB76, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-02AD34B7E1AECDA2F39A15F9C4FC28B6,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-F3211A62519600F347AEF48A33250CD3, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-265E445E9055313DFF7F9307BC106C61,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-3ADB902D1DC86ED60A9EA2B630DC602A, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-1296A69F3F04FB2409610B39116009A2,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-B6D5E5F7566EB22A83ED2BA4F7D5B181, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-E2F05F75203BBE7142D8DAAD61FE6258,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-44E3F0DE3FF87266BB8C20FC90909501, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-303F64483BF441FD020222DA5B8FB30B,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-4A57861016ACB7BD5A52B0C99008EA67, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-1EA516CAE12F7FCCC2F9094230C0C440,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-7B25E1E92CEADB30D33A6E4B94EBF3A5, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-0EC40C247C1822BFF5E3580FBFCDF59A,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-D6DD58360E9FFBB8A8DF918BB81F4BEA, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-1D5A55BC845D28C85C57941D9724E8B1,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-69FFC9B69E4B67F6A3D5AB86A4DE98B1, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-60BDF784939A146D115768E9D01ED4C7,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-D7580525989852564BB39C654C35DE6B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-AB5175B664A4AAB9CC059921C0FF5C64,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-88A624C86B05B4297C33E430A5D47F57, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115457-ADA26EDB23A27F39E89B3F32CB0EC5C3;
  schema:target <https://query.wikidata.org/sparql/> .
