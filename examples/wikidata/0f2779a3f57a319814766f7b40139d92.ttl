@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-0f2779a3f57a319814766f7b40139d92> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """SELECT ?awardCount ?award ?awardLabel WHERE {
  {
    SELECT (COUNT(?award) AS ?awardCount) ?award
    WHERE
    {
      {
        SELECT (SAMPLE(?human) AS ?human) ?award ?awardWork (SAMPLE(?director) AS ?director) (SAMPLE(?awardEdition) AS ?awardEdition) (SAMPLE(?time) AS ?time) WHERE {
          ?award wdt:P31 wd:Q19020 .      # All items that are instance of(P31) of Academy awards (Q19020)
          {
            ?human p:P166 ?awardStat .              # Humans with an awarded(P166) statement
            ?awardStat ps:P166 ?award .        # ... that has any of the values of ?award
            ?awardStat pq:P805 ?awardEdition . # Get the award edition (which is \"subject of\" XXth Academy Awards)
            ?awardStat pq:P1686 ?awardWork . # The work they have been awarded for
            ?human wdt:P31 wd:Q5 .        # Humans
          } UNION {
            ?awardWork wdt:P31 wd:Q11424 . # Films
            ?awardWork p:P166 ?awardStat . # ... with an awarded(P166) statement
            ?awardStat ps:P166 ?award .        # ... that has any of the values of ?award
            ?awardStat pq:P805 ?awardEdition . # Get the award edition (which is \"subject of\" XXth Academy Awards)
          }
          OPTIONAL {
            ?awardEdition wdt:P585 ?time . # the \"point of time\" of the Academy Award
            ?awardWork wdt:P57 ?director .
          }
        }
        GROUP BY ?awardWork ?award # We only want every movie once for a category (a 'random' person is selected)
      }
    } GROUP BY ?award
    ORDER BY ASC(?awardCount)
  }
  SERVICE wikibase:label { # ... include the labels
    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" .
  }
}""";
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-wikidata_prefixes,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-7C69E4133D577FDC799ADE6828497490, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-CC69E99B854D993645C05D8916153A77,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-29670F15DCB8EE60648A256F9FEAA626, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-07065E4DEC337AC9776B5EB5CB9A6D9D,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-FADAC807270B1B054D1C64F3B57A5313, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-5DB64F2B69B243818AA3FF3DE94E37D4,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-E5BD887EA1DE19F462F8AF6633EC949D, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-2877A4B1737CFF892D8FBC2ED7A84FDE,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-9EC4084839A4DB8E718C8069F7EE9504, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-C0E6246BE1C4D0F8C9FF96F0C297DDED,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-1F40A005F983D953D1C3BDD58A7A9E0F, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-D4D6583DA7346546E0C8A682131FD354,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-F12CF9E3DE6CE0B30C56DBC39B04AA34, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-83875A0E69711CCF3D2FFC093487742C,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-A7F5F16C4910B522964F8D667903C8E8, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-E90AC4FCDCB5D323890DFADAA40D4C95,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-918C370BE67D85C8B7105A4B918B380B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-42B313298E7239E1EE63B472D7C41057,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-B94EAA0DBFF302357C50C2021F5B4ADA, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-A2C81CB006B325AA12EA4AA952EE5C64,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-0A003425C785CE42327B77FA479E3C89, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-951E2294BB4FFA361155D93A4C2842E8,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-C190188C83D60A55B643F030C3D45650, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-2F231E308B8FD90386F408F225CD3C42,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-B1CAD8632F2C195006DF7CFAE81E9E21, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-C2242AFA25ABFCDB047787414507284E,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-777CB8D7BAED99FE49C24B743122113B, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-64CA019D8B0179CC22D3CEC402424CD5,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-E3542B9318570A1B889AEEAB006E1DCC, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-2CA8D37ED1D654D644B1AD8AB3635172,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-47567EA32D5103F24E3F25B8E7CE2579, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116195-76D4F3B93960024A0F40C8DDEA3ED434;
  schema:target <https://query.wikidata.org/sparql/> .
