@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-dce4ba94f22da537564cdf44a3645674> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """# Recent events
SELECT ?event ?eventLabel ?date
WHERE
{
  # find events
  ?event wdt:P31/wdt:P279* wd:Q1190554.
  # with a point in time or start date
  OPTIONAL { ?event wdt:P585 ?date. }
  OPTIONAL { ?event wdt:P580 ?date. }
  # but at least one of those
  FILTER(BOUND(?date) && DATATYPE(?date) = xsd:dateTime).
  # not in the future, and not more than 31 days ago
  BIND(NOW() - ?date AS ?distance).
  FILTER(0 <= ?distance && ?distance < 31).
  # and get a label as well
  OPTIONAL {
    ?event rdfs:label ?eventLabel.
    FILTER(LANG(?eventLabel) = \"en\").
    }
}
# limit to 10 results so we don't timeout
LIMIT 10""";
  rdfs:comment " "@en;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/bo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/yue>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/sr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/el>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-wikidata_prefixes,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-33EC0732B8D39942D54DCC979F916F58, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-C621729B963302FF258A101C460EB2EF,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-2B03D6517C41482DC5D723B992A9A8AA, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-D9B2805F796BF5DBC99246194EF6F3AF,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-B4767D187BB8A508D65F6379E99B3F12, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-63DC3A75367895A72716EBDB3F4609DE,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-47FB8361A122623D210B8EA0FF96B835, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-E751AAD9808C0701832B5B607C1056C9,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-6BABA859B0CDD940D6F6F14C7ACBCBFE, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-594F7837B8542C76479103B5A3E48038,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-0DA1D319FC4BE89B0461A040D77B7C0D, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-D629080D1BFF20EF119DC2E3013F5160,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-2D7F5007E846F2A3D1C9ABB3067D9A73, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-90A6B1AB0214BF5EB0E1E267555589F4,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-9877AFEE5CE0D9332BB5B4E4CD872999, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-7980132AF3A2A52B92BB05DC2A3001F5,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-13B60A5B73DC72E80ED8382760258F33, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-561F9DAFFD10504E9F59B50BE8658082,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-59BFB0CE371AA28F162F9F025DBEE89E, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-C162ADD086A63A27485417A11C67CAF4,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-6F97B645184D0287B1C9112ABFADC747, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-3C825093EC9C2E3B729C317E8CEE2932,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-4163C337065834C28ECA596231C12E00, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-C6D1D82D1F60128222C246BBBA8BF4CD,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-FCBD42188B82691EB514B5623855277F, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec115316-C03D1213D0141629A98FBFF5CB521676;
  schema:target <https://query.wikidata.org/sparql/> .
