@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-877325ed8bc75763d827a77a8b8dcfaa> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """SELECT
  ?item
  (SAMPLE (?titleL) AS ?title)
  (group_concat(DISTINCT ?creatorL ; separator = \", \") as ?creator)
  (group_concat(DISTINCT ?genreL ; separator = \", \") as ?genre)
  (group_concat(DISTINCT ?placeL ; separator = \", \") as ?place)
  (group_concat(DISTINCT ?arr ; separator = \", \") as ?arrondissement)
  (SAMPLE (?img) AS ?image)
  (SAMPLE (?coord) AS ?coordinates) {

    {
      SELECT DISTINCT ?item { {
        ?item wdt:P136 wd:Q557141 ;     # genre: public art
              wdt:P131 wd:Q90           # located in: Paris
      } UNION { # or
        ?item wdt:P136 wd:Q557141 ;     # genre: public art
              wdt:P131/wdt:P131* wd:Q90 # located in an arrondissement of Paris
      } }
    }

    # title
    OPTIONAL { ?item rdfs:label ?titleL FILTER (lang(?titleL) = \"fr\") }

    # creators
    OPTIONAL { ?item wdt:P170 [rdfs:label ?creatorL] FILTER (lang(?creatorL) = \"fr\") }

    #genre
    OPTIONAL {
      {
        ?item wdt:P136 ?g FILTER (STR(?g) != 'http://www.wikidata.org/entity/Q557141')
      } UNION {
        ?item wdt:P31 ?g .
      }
      ?g rdfs:label ?genreL FILTER (lang(?genreL) = \"fr\") .
    }

    # place
    OPTIONAL {
      ?item wdt:P276 [rdfs:label ?placeL] FILTER (lang(?placeL) = \"fr\") .
    }

    # arrondissement
    OPTIONAL {
      ?item wdt:P131 [wdt:P131 wd:Q90 ; rdfs:label ?arrL] FILTER (lang(?arrL) = \"fr\").
      BIND(REPLACE(?arrL, '^([0-9]+).*$', \"$1\", \"si\") AS ?arr)
    }

    # image
    OPTIONAL { ?item wdt:P18 ?img }

    # coordinates
    OPTIONAL { ?item wdt:P625 ?coord }

} GROUP BY ?item""";
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-wikidata_prefixes,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-D2CEE4499EA518E83691ACB916858EFD, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-86DCD48C05E38F14EAC1787FAEC980B4,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-607B83AE08A979E9170425627E510694, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-8FF4A02DFA0F1799CCA484CF6651FACD,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-D3C42E659F45515ED10CD08EC9710E93, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-347F1CC0A4894644E46BFCF51349D966,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-E482352F182946D92258E49BA50F8BD1, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-31644878C1DCCE76121A8ED6A02E007E,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-1D4F577CB033104CBB4A9EAE371D09B5, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-9D55E619360A36887C4A74D43D96F415,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-4EB416A3F5818D6F566E6CC46D6A4D47, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-DEC9FF15F249103EF22066C62BF77B26,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-13E01622C26AF268A0EC7F32DDF8247E, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-5EF8933E6B8070A16B25241D0715AEB2,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-D15B721EDFE5ADA7A4A2428F3EF8209D, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-47BEF8566390F184F27807BE7EBCF562,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-94CE42DA7B1A284881F6F3D88442D440, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-9879B22F23BD13AC3D1CB9C52268F191,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-FDB88E9C46DF5B2D30B2E36B25833DEF, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-A5F8136CF0C76B032DDA744EFDD95396,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-8B71E0B46C1B6F9E61FAFBC14D2FB49D, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-2628E3B6B023DEA73C650225AFE3793D,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-DA35333F7BA9C1C6B215F168AF777972, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-1D259A589F2D27B86E229DF45401B87F,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-7C917680252239F447D2B03FB3AEAF73, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-54BA0AC88FA5470998658453C6C3CBCF,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-3365096C5BF00C04CD632DBE84650BB0, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-A03DCAA3CF0959EF692113345E79D0DA,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-FFACBD6ABA6D3950A5C6C4F7560A7B8F, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-CF56E89FFC4CDA6057C764CA69F12B25,
    _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-6A839A43CEC0D2FB1B2AD5E8FAFBA201, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec116387-10BF864B7C7B04A1F0FC72A3A4232C35;
  schema:target <https://query.wikidata.org/sparql/> .
